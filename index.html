<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

    <meta name="description"
        content="Portfolio of Vignesh V, a Creative Developer and Engineer specializing in immersive web experiences.">
    <meta property="og:title" content="Vikki | Creative Engineer">
    <meta property="og:description" content="Bridging design & logic. Explore the digital portfolio of Vignesh V.">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#2563eb">

    <title>Vikki | Engineer</title>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&family=Reenie+Beanie&family=Permanent+Marker&family=Playfair+Display:ital,wght@0,400;1,400&family=Courier+Prime:wght@400;700&display=swap"
        rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                        hand: ['Reenie Beanie', 'cursive'],
                        graffiti: ['Permanent Marker', 'cursive'],
                        serif: ['Playfair Display', 'serif'],
                        typewriter: ['Courier Prime', 'monospace'],
                    },
                    colors: {
                        accent: '#2563eb',
                        accentLight: '#60a5fa',
                        darkBg: '#050505',
                    },
                    animation: {
                        'blob': 'blob 7s infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        }
                    }
                }
            }
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

    <style>
        /* --- 1. CORE RESET & VISUALS --- */
        ::selection {
            background: #2563eb;
            color: white;
        }

        body {
            overflow-x: hidden;
            background-color: #f2f4f6;
            transition: background-color 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), color 0.5s ease;
            cursor: auto;
        }

        .dark body {
            background-color: #050505;
        }

        /* Custom Cursor Logic */
        @media (hover: hover) and (pointer: fine) {
            body.custom-cursor-active {
                cursor: none !important;
            }

            body.custom-cursor-active * {
                cursor: none !important;
            }

            body.custom-cursor-active a,
            body.custom-cursor-active button,
            body.custom-cursor-active input {
                cursor: none !important;
            }
        }

        body::-webkit-scrollbar {
            width: 6px;
        }

        body::-webkit-scrollbar-track {
            background: transparent;
        }

        body::-webkit-scrollbar-thumb {
            background-color: #2563eb;
            border-radius: 20px;
        }

        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            mix-blend-mode: overlay;
        }

        .tech-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(rgba(100, 100, 100, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(100, 100, 100, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: -1;
            mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
        }

        /* --- 2. TRANSITION OVERLAY --- */
        #mode-transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #111;
            z-index: 9999;
            pointer-events: none;
            clip-path: circle(0% at 50% 50%);
        }

        /* --- 3. CURSOR --- */
        #cursor-lens {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 20px;
            height: 20px;
            background-color: #2563eb;
            border-radius: 50%;
            pointer-events: none;
            z-index: 12000;
            opacity: 0.8;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background-color 0.3s;
            will-change: transform;
            justify-content: center;
            align-items: center;
        }

        body.custom-cursor-active #cursor-lens {
            display: flex;
        }

        body.creative-mode #cursor-lens {
            border-radius: 4px;
            background-color: #8b5cf6;
            width: 24px;
            height: 24px;
        }

        body.is-dragging #cursor-lens {
            width: 10px;
            height: 10px;
            background-color: #fff;
            mix-blend-mode: difference;
        }

        body.is-clicking #cursor-lens {
            transform: translate(-50%, -50%) scale(0.8);
        }

        body.is-hovering #cursor-lens {
            width: 50px;
            height: 50px;
            opacity: 0.4;
            mix-blend-mode: difference;
        }

        /* --- 4. DOCKS & MODALS --- */
        .social-dock,
        .settings-dock {
            position: fixed;
            top: 24px;
            z-index: 9000;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .social-dock {
            left: 24px;
        }

        .settings-dock {
            right: 24px;
        }

        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: #333;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            font-size: 1.1rem;
            text-decoration: none;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.05);
        }

        .dark .social-btn {
            background-color: rgba(15, 15, 15, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: #ccc;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .social-btn:hover {
            transform: translateY(-3px) scale(1.05);
            background-color: #2563eb;
            color: white;
            border-color: #2563eb;
        }

        .vibe-toggle-btn {
            background: rgba(255, 255, 255, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(12px);
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: #333;
            font-size: 1.1rem;
            position: relative;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.05);
        }

        .dark .vibe-toggle-btn {
            background: rgba(15, 15, 15, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: #ccc;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        body.creative-mode .vibe-toggle-btn {
            background: #8b5cf6;
            color: white;
            border-color: #8b5cf6;
            transform: rotate(180deg);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.6);
        }

        /* UPCOMING PROJECTS MODAL */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 11000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .modal-overlay.open {
            opacity: 1;
            pointer-events: auto;
        }

        .folder-modal {
            background: #fffdf0;
            width: 90%;
            max-width: 500px;
            padding: 2rem;
            transform: translateY(50px) rotate(-2deg);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid #333;
            box-shadow: 10px 10px 0px rgba(0, 0, 0, 0.8);
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
        }

        .dark .folder-modal {
            background: #1a1a1a;
            color: #eee;
            border: 1px solid #444;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            transform: translateY(50px);
        }

        .modal-overlay.open .folder-modal {
            transform: translateY(0) rotate(0deg);
        }

        .stamped {
            position: absolute;
            top: 1rem;
            right: 2rem;
            border: 4px solid #ef4444;
            color: #ef4444;
            font-weight: 900;
            padding: 0.2rem 1rem;
            transform: rotate(-15deg);
            opacity: 0.8;
            font-family: 'Space Grotesk', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-nav-btn {
            background: transparent;
            border: 1px solid currentColor;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: 0.2s;
        }

        .modal-nav-btn:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .dark .modal-nav-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* --- 5. MODE VISIBILITY --- */
        .creative-only {
            display: none !important;
            opacity: 0;
            transform: translateY(20px);
        }

        body.creative-mode .creative-only {
            display: flex !important;
            opacity: 1;
            transform: translateY(0);
        }

        body.creative-mode .creative-block {
            display: block !important;
            opacity: 1;
        }

        body.creative-mode .prof-only {
            display: none !important;
        }

        body.creative-mode h1,
        body.creative-mode h2,
        body.creative-mode .creative-font {
            font-family: 'Permanent Marker', cursive;
            letter-spacing: 2px;
        }

        body.creative-mode p,
        body.creative-mode li,
        body.creative-mode span:not(.hand-label):not(.dock-text) {
            font-family: 'Courier Prime', monospace;
        }

        body.creative-mode .text-accent {
            color: #8b5cf6;
        }

        body.creative-mode {
            background-image: radial-gradient(#8b5cf6 0.8px, transparent 0.8px);
            background-size: 32px 32px;
            background-color: #fdfbf7;
        }

        .dark body.creative-mode {
            background-color: #050505;
        }

        #player {
            display: none;
            opacity: 0;
            transition: opacity 0.4s;
        }

        body.creative-mode #player {
            display: flex;
            opacity: 1;
        }

        /* --- 6. RESUME LAYOUT --- */
        .resume-container {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .resume-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            width: 100%;
        }

        @media(min-width: 768px) {
            .resume-grid {
                grid-template-columns: 1fr 1fr;
                gap: 4rem;
            }
        }

        .spotlight-card {
            background: rgba(255, 255, 255, 0.6);
            padding: 2.5rem;
            border-radius: 1.25rem;
            border: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.02);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .spotlight-card:last-child {
            margin-bottom: 0;
        }

        .dark .spotlight-card {
            background: rgba(20, 20, 20, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
        }

        .spotlight-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(37, 99, 235, 0.08), transparent 40%);
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
            z-index: 1;
        }

        .dark .spotlight-card::before {
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(37, 99, 235, 0.15), transparent 40%);
        }

        .spotlight-card:hover::before {
            opacity: 1;
        }

        .spotlight-card:hover {
            transform: translateY(-5px);
            border-color: rgba(37, 99, 235, 0.4);
        }

        body.creative-mode .spotlight-card {
            background: #fffdf0;
            color: #222;
            border: 2px solid #222;
            border-radius: 4px;
            box-shadow: 8px 8px 0px #8b5cf6;
            transform: rotate(var(--rot));
            margin-bottom: 3rem;
        }

        body.creative-mode .spotlight-card:hover {
            transform: scale(1.02) rotate(0deg);
            z-index: 20;
            box-shadow: 10px 10px 0px #222;
        }

        body.creative-mode .spotlight-card::before {
            display: none;
        }

        /* RESTORED FONT FOR TOP SCORER */
        .hand-label {
            font-family: 'Reenie Beanie', cursive !important;
            font-size: 1.8rem;
            color: #8b5cf6;
            position: absolute;
            top: 10px;
            right: 20px;
            transform: rotate(15deg);
            opacity: 0;
            transition: 0.4s;
            pointer-events: none;
        }

        body.creative-mode .hand-label {
            opacity: 1;
        }

        /* Theme Switch */
        .theme-switch {
            --toggle-size: 12px;
            --container-width: 5.625em;
            --container-height: 2.5em;
            --container-radius: 6.25em;
            --container-light-bg: #3d7eae;
            --container-night-bg: #1d1f2c;
            --circle-container-diameter: 3.375em;
            --sun-moon-diameter: 2.125em;
            --sun-bg: #ecca2f;
            --moon-bg: #c4c9d1;
            --spot-color: #959db1;
            --circle-container-offset: calc((var(--circle-container-diameter) - var(--container-height)) / 2 * -1);
            --stars-color: #fff;
            --clouds-color: #f3fdff;
            --back-clouds-color: #aacadf;
            --transition: 0.5s cubic-bezier(0, -0.02, 0.4, 1.25);
            --circle-transition: 0.3s cubic-bezier(0, -0.02, 0.35, 1.17);
        }

        .theme-switch,
        .theme-switch *,
        .theme-switch *::before,
        .theme-switch *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-size: var(--toggle-size);
        }

        .theme-switch__container {
            width: var(--container-width);
            height: var(--container-height);
            background-color: var(--container-light-bg);
            border-radius: var(--container-radius);
            overflow: hidden;
            box-shadow: 0em -0.062em 0.062em rgba(0, 0, 0, 0.25), 0em 0.062em 0.125em rgba(255, 255, 255, 0.94);
            transition: var(--transition);
            position: relative;
            background-image: linear-gradient(to bottom, var(--container-light-bg) 0%, #5490c0 100%);
            cursor: pointer;
        }

        .theme-switch__checkbox {
            display: none;
        }

        .theme-switch__circle-container {
            width: var(--circle-container-diameter);
            height: var(--circle-container-diameter);
            background-color: rgba(255, 255, 255, 0.1);
            position: absolute;
            left: var(--circle-container-offset);
            top: var(--circle-container-offset);
            border-radius: var(--container-radius);
            box-shadow: inset 0 0 0 3.375em rgba(255, 255, 255, 0.1), 0 0 0 0.625em rgba(255, 255, 255, 0.1), 0 0 0 1.25em rgba(255, 255, 255, 0.1);
            display: flex;
            transition: var(--circle-transition);
            pointer-events: none;
        }

        .theme-switch__sun-moon-container {
            pointer-events: auto;
            position: relative;
            z-index: 2;
            width: var(--sun-moon-diameter);
            height: var(--sun-moon-diameter);
            margin: auto;
            border-radius: var(--container-radius);
            background-color: var(--sun-bg);
            box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset, 0em -0.062em 0.062em 0em #a1872a inset;
            filter: drop-shadow(0.062em 0.125em 0.125em rgba(0, 0, 0, 0.25)) drop-shadow(0em 0.062em 0.125em rgba(0, 0, 0, 0.25));
            overflow: hidden;
            transition: var(--transition);
            transform: scale(1);
        }

        .theme-switch__moon {
            transform: translateX(100%);
            width: 100%;
            height: 100%;
            background-color: var(--moon-bg);
            border-radius: inherit;
            box-shadow: 0.062em 0.062em 0.062em 0em rgba(254, 255, 239, 0.61) inset, 0em -0.062em 0.062em 0em #969696 inset;
            transition: var(--transition);
            position: relative;
        }

        .theme-switch__spot {
            position: absolute;
            top: 0.75em;
            left: 0.312em;
            width: 0.75em;
            height: 0.75em;
            border-radius: var(--container-radius);
            background-color: var(--spot-color);
            box-shadow: 0em 0.0312em 0.062em rgba(0, 0, 0, 0.25) inset;
        }

        .theme-switch__spot:nth-of-type(2) {
            width: 0.375em;
            height: 0.375em;
            top: 0.937em;
            left: 1.375em;
        }

        .theme-switch__spot:nth-last-of-type(3) {
            width: 0.25em;
            height: 0.25em;
            top: 0.312em;
            left: 0.812em;
        }

        .theme-switch__clouds {
            width: 1.25em;
            height: 1.25em;
            background-color: var(--clouds-color);
            border-radius: var(--container-radius);
            position: absolute;
            bottom: -0.625em;
            left: 0.312em;
            box-shadow: 0.937em 0.312em var(--clouds-color), -0.312em -0.312em var(--back-clouds-color), 1.437em 0.375em var(--clouds-color), 0.5em -0.125em var(--back-clouds-color), 2.187em 0 var(--clouds-color), 1.25em -0.062em var(--back-clouds-color), 2.937em 0.312em var(--clouds-color), 2em -0.312em var(--back-clouds-color), 3.625em -0.062em var(--clouds-color), 2.625em 0em var(--back-clouds-color), 4.5em -0.312em var(--clouds-color), 3.375em -0.437em var(--back-clouds-color), 4.625em -1.75em 0 0.437em var(--clouds-color), 4em -0.625em var(--back-clouds-color), 4.125em -2.125em 0 0.437em var(--back-clouds-color);
            transition: 0.5s cubic-bezier(0, -0.02, 0.4, 1.25);
        }

        .theme-switch__stars-container {
            position: absolute;
            color: var(--stars-color);
            top: -100%;
            left: 0.312em;
            width: 2.75em;
            height: auto;
            transition: var(--transition);
        }

        .theme-switch__checkbox:checked+.theme-switch__container {
            background-color: var(--container-night-bg);
            background-image: linear-gradient(to bottom, var(--container-night-bg) 0%, #2d3142 100%);
        }

        .theme-switch__checkbox:checked+.theme-switch__container .theme-switch__circle-container {
            left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter));
        }

        .theme-switch__checkbox:checked+.theme-switch__container .theme-switch__circle-container:hover {
            left: calc(100% - var(--circle-container-offset) - var(--circle-container-diameter) - 0.187em);
        }

        .theme-switch__circle-container:hover {
            left: calc(var(--circle-container-offset) + 0.187em);
        }

        .theme-switch__checkbox:checked+.theme-switch__container .theme-switch__moon {
            transform: translate(0);
        }

        .theme-switch__checkbox:checked+.theme-switch__container .theme-switch__clouds {
            bottom: -4.062em;
        }

        .theme-switch__checkbox:checked+.theme-switch__container .theme-switch__stars-container {
            top: 50%;
            transform: translateY(-50%);
        }

        /* --- 7. PROJECTS --- */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 3rem;
            width: 100%;
            perspective: 1000px;
        }

        .project-card {
            position: relative;
            height: 440px;
            border-radius: 24px;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
        }

        .card-inner {
            position: absolute;
            inset: 0;
            border-radius: 24px;
            overflow: hidden;
            background: #fff;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transform: translateZ(0);
            transition: all 0.3s ease;
        }

        .dark .card-inner {
            background: #121212;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .project-card::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 24px;
            padding: 1px;
            background: radial-gradient(400px circle at var(--mouse-x) var(--mouse-y), rgba(37, 99, 235, 0.4), transparent 40%);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.5s;
            z-index: 2;
            pointer-events: none;
        }

        .project-card:hover::before {
            opacity: 1;
        }

        .card-image {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.4s ease;
            z-index: 10;
            transform: scale(1.05);
        }

        .card-video {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: 5;
        }

        .project-card:hover .card-video {
            opacity: 1;
            z-index: 15;
        }

        .project-card:hover .card-image {
            opacity: 0;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 10%, rgba(0, 0, 0, 0.5) 50%, transparent 100%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 2.5rem;
            opacity: 1;
            z-index: 20;
            pointer-events: none;
        }

        .card-content {
            transform: translateY(30px);
            transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            pointer-events: auto;
        }

        .project-card:hover .card-content {
            transform: translateY(0);
        }

        .card-buttons {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.4s ease 0.1s;
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .project-card:hover .card-buttons {
            opacity: 1;
            transform: translateY(0);
        }

        .tech-tag {
            font-size: 0.7rem;
            letter-spacing: 1px;
            font-weight: 600;
            color: #222;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(4px);
            padding: 6px 14px;
            border-radius: 99px;
            margin-bottom: 12px;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        /* --- 8. POETRY --- */
        .poem-card {
            background: #fffdf0;
            color: #333;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            transform: rotate(var(--rotation));
            position: relative;
            overflow: hidden;
            font-family: 'Space Grotesk', sans-serif;
            transition: transform 0.3s ease;
        }

        .poem-card:hover {
            transform: scale(1.05) rotate(0deg) !important;
            z-index: 50;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .dark .poem-card {
            background: #1c1c1e;
            color: #52525b;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .poem-body {
            white-space: pre-line;
            font-family: 'Reenie Beanie', cursive;
            font-size: 1.6rem;
            line-height: 1.3;
            margin-top: 1rem;
        }

        /* --- 9. FIXED COMPONENTS --- */
        #preloader {
            position: fixed;
            inset: 0;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f2f4f6;
            transition: opacity 1s ease-in-out, visibility 1s ease-in-out;
        }

        .dark #preloader {
            background-color: #050505;
        }

        #vikkiSvg {
            width: 80%;
            max-width: 400px;
        }

        .handwriting-path {
            fill: none;
            stroke: #111;
            stroke-width: 4;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .dark .handwriting-path {
            stroke: #fff;
        }

        .phantom-dock {
            position: fixed;
            bottom: calc(2rem + env(safe-area-inset-bottom));
            /* SAFE AREA FIX FOR MOBILE */
            left: 50%;
            transform: translateX(-50%);
            z-index: 9000;
        }

        @media (max-width: 768px) {
            .phantom-dock {
                bottom: calc(1rem + env(safe-area-inset-bottom));
                width: 90%;
                left: 50%;
                transform: translateX(-50%);
            }

            .dock-item {
                padding: 0 0.8rem;
            }
        }

        .dock-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 9999px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.4);
            transition: all 0.3s ease;
        }

        .dark .dock-container {
            background: rgba(10, 10, 10, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6);
        }

        .dock-item {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 3.2rem;
            padding: 0 1.25rem;
            border-radius: 9999px;
            color: #52525b;
            transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            cursor: pointer;
        }

        .dark .dock-item {
            color: #a1a1aa;
        }

        .dock-icon {
            font-size: 1.2rem;
            transition: transform 0.3s;
        }

        .dock-text {
            max-width: 0;
            opacity: 0;
            font-weight: 600;
            font-size: 0.9rem;
            margin-left: 0;
            white-space: nowrap;
            transition: all 0.4s ease;
        }

        .dock-item:hover {
            background: rgba(0, 0, 0, 0.05);
            padding-right: 1.5rem;
        }

        .dark .dock-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .dock-item:hover .dock-text,
        .dock-item.active .dock-text {
            max-width: 100px;
            opacity: 1;
            margin-left: 0.6rem;
        }

        .dock-item.active {
            background: rgba(37, 99, 235, 0.1);
            color: #2563eb;
            padding-right: 1.5rem;
        }

        .dock-item.active .dock-icon {
            transform: scale(1.1);
        }

        /* --- 10. VISUAL ARCHIVE FIX (100vh) --- */
        #canvas {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .canvas-container {
            position: relative;
            width: 95%;
            max-width: 1400px;
            height: 75vh;
            flex-grow: 1;
            /* Take available space */
            border: 2px solid rgba(0, 0, 0, 0.08);
            /* Subtle border */
            border-radius: 24px;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .dark .canvas-container {
            border: 2px solid rgba(255, 255, 255, 0.08);
        }

        .canvas-bg-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12vw;
            font-weight: 800;
            line-height: 0.9;
            color: rgba(0, 0, 0, 0.04);
            text-align: center;
            pointer-events: none;
            z-index: 0;
            white-space: nowrap;
            font-family: 'Space Grotesk', sans-serif;
            mix-blend-mode: overlay;
        }

        .dark .canvas-bg-text {
            color: rgba(255, 255, 255, 0.05);
        }

        .canvas-box {
            position: relative;
            width: 100%;
            height: 100%;
            border: none;
            background: transparent;
            backdrop-filter: none;
            z-index: 10;
            overflow: hidden;
        }

        .photo-card {
            position: absolute;
            background: #fff;
            padding: 12px 12px 50px 12px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
            width: 240px;
            touch-action: none;
            transition: transform 0.1s;
            border-radius: 4px;
            cursor: grab;
        }

        .photo-card:active {
            cursor: grabbing;
        }

        .dark .photo-card {
            background: #1a1a1a;
            border: 1px solid #333;
        }

        .photo-card:active {
            scale: 1.05;
            z-index: 100 !important;
        }

        .photo-caption {
            font-family: 'Reenie Beanie', cursive;
            font-size: 1.6rem;
            color: #444;
            position: absolute;
            bottom: 10px;
            left: 0;
            width: 100%;
            text-align: center;
        }

        .dark .photo-caption {
            color: #ccc;
        }

        /* --- 11. 12-HR CLOCK --- */
        .clock-container {
            position: relative;
            display: flex;
            gap: 4px;
        }

        .clock-unit {
            width: 32px;
            height: 44px;
            border-radius: 4px;
            position: relative;
            font-family: 'Space Grotesk', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: #eeeeee;
            perspective: 1000px;
        }

        .clock-unit::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 1px;
            background: rgba(0, 0, 0, 0.5);
            z-index: 10;
            transform: translateY(-1px);
        }

        .upper-card,
        .lower-card,
        .flip-card {
            position: absolute;
            left: 0;
            width: 100%;
            height: 50%;
            overflow: hidden;
            backface-visibility: hidden;
            text-shadow: 0 1px 2px #333;
        }

        .upper-card,
        .flip-card.front {
            top: 0;
            border-radius: 4px 4px 0 0;
            z-index: 1;
            background: #181818;
            box-shadow: inset 0 10px 30px #111111;
            border-bottom: 1px solid rgba(0, 0, 0, 0.5);
        }

        .upper-card span,
        .flip-card.front span {
            display: block;
            height: 200%;
            line-height: 44px;
            text-align: center;
            width: 100%;
        }

        .lower-card,
        .flip-card.back {
            bottom: 0;
            border-radius: 0 0 4px 4px;
            z-index: 1;
            background: #2a2a2a;
            box-shadow: inset 0 10px 30px #202020;
            border-top: 1px solid #444;
        }

        .lower-card span,
        .flip-card.back span {
            display: block;
            height: 200%;
            line-height: 0;
            text-align: center;
            width: 100%;
        }

        .flip-card.front {
            z-index: 2;
            transform-origin: 50% 100%;
        }

        .flip-card.back {
            z-index: 1;
            transform-origin: 50% 0%;
            transform: rotateX(180deg);
        }

        .clock-unit.flip .flip-card.front {
            animation: flipDownFront 0.5s ease-in forwards;
        }

        .clock-unit.flip .flip-card.back {
            animation: flipDownBack 0.5s ease-in forwards;
            z-index: 3;
        }

        @keyframes flipDownFront {
            0% {
                transform: rotateX(0deg);
            }

            100% {
                transform: rotateX(-180deg);
            }
        }

        @keyframes flipDownBack {
            0% {
                transform: rotateX(180deg);
            }

            100% {
                transform: rotateX(0deg);
            }
        }

        .clock-separator {
            font-size: 24px;
            font-weight: bold;
            margin: 0 2px;
            color: #666;
            padding-bottom: 4px;
        }

        .dark .clock-separator {
            color: #aaa;
        }

        .ampm-indicator {
            font-size: 10px;
            font-weight: bold;
            color: #666;
            align-self: flex-end;
            margin-bottom: 5px;
            margin-left: 2px;
        }

        .dark .ampm-indicator {
            color: #aaa;
        }

        /* --- 12. CHAT & CONTACT --- */
        #chat-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            padding: 2rem 1rem;
            position: relative;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            width: 100%;
            max-width: 900px;
            align-items: center;
            margin-bottom: 20px;
        }

        @media (min-width: 900px) {
            .contact-grid {
                grid-template-columns: 1fr 1fr;
                gap: 3rem;
            }
        }

        .chat-interface {
            width: 100%;
            max-width: 380px;
            margin: 0 auto;
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform: translateY(60px);
            opacity: 0;
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark .chat-interface {
            background: #111;
            box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-interface.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .chat-top-bar {
            padding: 16px 20px;
            background: rgba(249, 250, 251, 0.95);
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .dark .chat-top-bar {
            background: rgba(20, 20, 20, 0.95);
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .chat-person {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-pfp {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #2563eb, #60a5fa);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
        }

        .chat-status {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 2px;
        }

        .chat-area {
            height: 280px;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 14px;
            background-color: #f8fafc;
        }

        .dark .chat-area {
            background-color: #0d0d0d;
        }

        .msg-bubble {
            max-width: 85%;
            padding: 12px 18px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
            overflow-wrap: break-word;
            white-space: pre-wrap;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
        }

        .msg-bubble.received {
            background: #fff;
            color: #1f2937;
            border-bottom-left-radius: 4px;
            align-self: flex-start;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .dark .msg-bubble.received {
            background: #1e1e1e;
            color: #f3f4f6;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .msg-bubble.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .chat-input-area {
            padding: 16px 20px;
            background: #fff;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .dark .chat-input-area {
            background: #111;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
        }

        .real-input {
            flex-grow: 1;
            padding: 12px 18px;
            background: #f3f4f6;
            border: 1px solid transparent;
            border-radius: 99px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        .dark .real-input {
            background: #1f1f1f;
            color: white;
        }

        .real-input:focus {
            background: white;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
        }

        .dark .real-input:focus {
            background: #2a2a2a;
        }

        .send-button {
            width: 44px;
            height: 44px;
            background: #2563eb;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s, background 0.3s;
            font-size: 16px;
            box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
            cursor: pointer;
        }

        .send-button:hover {
            transform: scale(1.05);
            background: #1d4ed8;
        }

        .typing {
            display: flex;
            gap: 4px;
            padding: 16px 20px;
            width: fit-content;
        }

        .t-dot {
            width: 6px;
            height: 6px;
            background: #9ca3af;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .t-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .t-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes bounce {

            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1);
            }
        }

        .hover-char {
            display: inline-block;
            transition: transform 0.3s cubic-bezier(0.2, 1, 0.3, 1), color 0.3s ease;
        }

        .hover-char:hover {
            transform: translateY(-10px) rotate(5deg);
            color: #2563eb;
            text-shadow: 0 10px 20px rgba(37, 99, 235, 0.4);
        }

        input[type=range] {
            accent-color: #2563eb;
        }

        .group\/vol:hover .w-0 {
            width: 4rem;
        }

        /* --- 13. EXTRA HOOKS CSS --- */
        #toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2563eb;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            transform: translateY(100px);
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 10000;
            font-weight: 600;
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.3);
        }

        #toast.show {
            transform: translateY(0);
        }

        .folder-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-5deg);
            background: #ef4444;
            color: white;
            font-size: 8px;
            padding: 2px 6px;
            font-weight: bold;
            border: 1px dashed white;
            pointer-events: none;
            z-index: 60;
            text-transform: uppercase;
        }

        .file {
            position: relative;
            width: 96px;
            height: 64px;
            cursor: pointer;
        }

        .work-5 {
            background: #d97706;
        }

        /* Darker Amber for Folder */
        .hook-text {
            text-align: center;
            margin-top: 3rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
            opacity: 0.7;
            font-family: 'Inter', sans-serif;
        }

        .creative-mode .hook-text {
            font-family: 'Permanent Marker', cursive;
            color: #8b5cf6;
            opacity: 1;
            transform: rotate(-2deg);
            font-size: 1.2rem;
        }
    </style>
</head>

<body class="text-gray-900 dark:text-gray-100 font-sans">

    <div id="mode-transition-overlay"></div>
    <div id="toast"></div>

    <div class="noise-overlay"></div>
    <div class="tech-grid"></div>

    <div id="cursor-lens"></div>

    <div class="modal-overlay" id="upcomingProjectsModal">
        <div class="folder-modal">
            <div class="stamped">TOP SECRET</div>
            <h3 class="text-2xl font-bold mb-4 border-b-2 border-black/10 dark:border-white/10 pb-2">Upcoming Projects
            </h3>

            <div id="modalContent" class="flex-grow">
            </div>

            <div class="flex justify-between items-center mt-6 pt-4 border-t border-black/10 dark:border-white/10">
                <button id="modalPrev" class="modal-nav-btn"><i class="fas fa-chevron-left"></i></button>
                <button onclick="closeFolder()"
                    class="px-4 py-2 bg-red-500 text-white font-bold rounded hover:bg-red-600 transition-colors text-xs uppercase tracking-widest">Close
                    File</button>
                <button id="modalNext" class="modal-nav-btn"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </div>

    <div id="preloader">
        <svg viewBox="0 0 500 250" id="vikkiSvg">
            <path id="stroke1" class="handwriting-path"
                d="M 60,100 C 70,140 80,140 90,100 C 95,90 100,90 105,110 L 115,150 C 120,165 130,165 135,140 L 155,50 L 145,160" />
            <path id="stroke2" class="handwriting-path"
                d="M 150,130 C 180,110 180,130 160,145 L 180,160 C 190,170 195,160 200,120 L 215,50 L 205,160" />
            <path id="stroke3" class="handwriting-path"
                d="M 210,130 C 240,110 240,130 220,145 L 240,160 C 250,170 255,160 260,140 L 270,160 C 275,170 285,170 295,150" />
            <path id="dot1" class="handwriting-path" d="M 115,90 L 115,92" stroke-width="8" />
            <path id="dot2" class="handwriting-path" d="M 270,125 L 270,127" stroke-width="8" />
        </svg>
    </div>

    <div class="social-dock">
        <a href="https://linkedin.com/in/vigneshvijayaanandan" target="_blank" rel="noopener noreferrer"
            class="social-btn"><i class="fab fa-linkedin-in"></i></a>
        <a href="https://github.com/curiositycrafter" target="_blank" rel="noopener noreferrer" class="social-btn"><i
                class="fab fa-github"></i></a>
        <a href="mailto:vigneshvijayaanandan@gmail.com" class="social-btn"><i class="fas fa-envelope"></i></a>
    </div>

    <div class="settings-dock">
        <div id="vibeToggle" class="vibe-toggle-btn" title="Toggle Creative Mode">
            <i class="fas fa-palette"></i>
        </div>
        <label class="theme-switch ml-4">
            <input class="theme-switch__checkbox" type="checkbox" />
            <div class="theme-switch__container">
                <div class="theme-switch__clouds"></div>
                <div class="theme-switch__stars-container">
                    <svg fill="none" viewBox="0 0 144 55" xmlns="http://www.w3.org/2000/svg">
                        <path fill="currentColor"
                            d="M135.831 3.00688C135.055 3.85027 134.111 4.29946 133 4.35447C134.111 4.40947 135.055 4.85867 135.831 5.71123C136.607 6.55462 136.996 7.56303 136.996 8.72727C136.996 7.95722 137.172 7.25134 137.525 6.59129C137.886 5.93124 138.372 5.39954 138.98 5.00535C139.598 4.60199 140.268 4.39114 141 4.35447C139.88 4.2903 138.936 3.85027 138.16 3.00688C137.384 2.16348 136.996 1.16425 136.996 0C136.996 1.16425 136.607 2.16348 135.831 3.00688ZM31 23.3545C32.1114 23.2995 33.0551 22.8503 33.8313 22.0069C34.6075 21.1635 34.9956 20.1642 34.9956 19C34.9956 20.1642 35.3837 21.1635 36.1599 22.0069C36.9361 22.8503 37.8798 23.2903 39 23.3545C38.2679 23.3911 37.5976 23.602 36.9802 24.0053C36.3716 24.3995 35.8864 24.9312 35.5248 25.5913C35.172 26.2513 34.9956 26.9572 34.9956 27.7273C34.9956 26.563 34.6075 25.5546 33.8313 24.7112C33.0551 23.8587 32.1114 23.4095 31 23.3545ZM0 36.3545C1.11136 36.2995 2.05513 35.8503 2.83131 35.0069C3.6075 34.1635 3.99559 33.1642 3.99559 32C3.99559 33.1642 4.38368 34.1635 5.15987 35.0069C5.93605 35.8503 6.87982 36.2903 8 36.3545C7.26792 36.3911 6.59757 36.602 5.98015 37.0053C5.37155 37.3995 4.88644 37.9312 4.52481 38.5913C4.172 39.2513 3.99559 39.9572 3.99559 40.7273C3.99559 39.563 3.6075 38.5546 2.83131 37.7112C2.05513 36.8587 1.11136 36.4095 0 36.3545ZM56.8313 24.0069C56.0551 24.8503 55.1114 25.2995 54 25.3545C55.1114 25.4095 56.0551 25.8587 56.8313 26.7112C57.6075 27.5546 57.9956 28.563 57.9956 29.7273C57.9956 28.9572 58.172 28.2513 58.5248 27.5913C58.8864 26.9312 59.3716 26.3995 59.9802 26.0053C60.5976 25.602 61.2679 25.3911 62 25.3545C60.8798 25.2903 59.9361 24.8503 59.1599 24.0069C58.3837 23.1635 57.9956 22.1642 57.9956 21C57.9956 22.1642 57.6075 23.1635 56.8313 24.0069ZM81 25.3545C82.1114 25.2995 83.0551 24.8503 83.8313 24.0069C84.6075 23.1635 84.9956 22.1642 84.9956 21C84.9956 22.1642 85.3837 23.1635 86.1599 24.0069C86.9361 24.8503 87.8798 25.2903 89 25.3545C88.2679 25.3911 87.5976 25.602 86.9802 26.0053C86.3716 26.3995 85.8864 26.9312 85.5248 27.5913C85.172 28.2513 84.9956 28.9572 84.9956 29.7273C84.9956 28.563 84.6075 27.5546 83.8313 26.7112C83.0551 25.8587 82.1114 25.4095 81 25.3545ZM136 36.3545C137.111 36.2995 138.055 35.8503 138.831 35.0069C139.607 34.1635 139.996 33.1642 139.996 32C139.996 33.1642 140.384 34.1635 141.16 35.0069C141.936 35.8503 142.88 36.2903 144 36.3545C143.268 36.3911 142.598 36.602 141.98 37.0053C141.372 37.3995 140.886 37.9312 140.525 38.5913C140.172 39.2513 139.996 39.9572 139.996 40.7273C139.996 39.563 139.607 38.5546 138.831 37.7112C138.055 36.8587 137.111 36.4095 136 36.3545ZM101.831 49.0069C101.055 49.8503 100.111 50.2995 99 50.3545C100.111 50.4095 101.055 50.8587 101.831 51.7112C102.607 52.5546 102.996 53.563 102.996 54.7273C102.996 53.9572 103.172 53.2513 103.525 52.5913C103.886 51.9312 104.372 51.3995 104.98 51.0053C105.598 50.602 106.268 50.3911 107 50.3545C105.88 50.2903 104.936 49.8503 104.16 49.0069C103.384 48.1635 102.996 47.1642 102.996 46C102.996 47.1642 102.607 48.1635 101.831 49.0069Z"
                            clip-rule="evenodd" fill-rule="evenodd"></path>
                    </svg>
                </div>
                <div class="theme-switch__circle-container">
                    <div class="theme-switch__sun-moon-container">
                        <div class="theme-switch__moon">
                            <div class="theme-switch__spot"></div>
                            <div class="theme-switch__spot"></div>
                            <div class="theme-switch__spot"></div>
                        </div>
                    </div>
                </div>
            </div>
        </label>
    </div>

    <nav class="phantom-dock">
        <ul class="dock-container">
            <li><a href="#home" class="dock-item" id="nav-home"><i class="fas fa-home dock-icon"></i><span
                        class="dock-text">Home</span></a></li>
            <li><a href="#about" class="dock-item" id="nav-about"><i class="fas fa-user dock-icon"></i><span
                        class="dock-text">About</span></a></li>
            <li><a href="#resume" class="dock-item" id="nav-resume"><i class="fas fa-file-alt dock-icon"></i><span
                        class="dock-text">Journey</span></a></li>
            <li><a href="#projects" class="dock-item" id="nav-projects"><i class="fas fa-cube dock-icon"></i><span
                        class="dock-text">Work</span></a></li>
            <li class="creative-only"><a href="#poetry" class="dock-item" id="nav-poetry"><i
                        class="fas fa-feather-alt dock-icon"></i><span class="dock-text">Poetry</span></a></li>
            <li class="creative-only"><a href="#canvas" class="dock-item" id="nav-canvas"><i
                        class="fas fa-camera dock-icon"></i><span class="dock-text">Visuals</span></a></li>
            <li class="creative-only"><a href="#player" class="dock-item" id="nav-player"><i
                        class="fas fa-music dock-icon"></i><span class="dock-text">Sonic</span></a></li>
            <li><a href="#chat-section" class="dock-item" id="nav-chat-section"><i
                        class="fas fa-envelope dock-icon"></i><span class="dock-text">Contact</span></a></li>
        </ul>
    </nav>

    <section id="home"
        class="min-h-screen flex flex-col justify-center items-center text-center relative overflow-hidden px-6 md:px-20">
        <div id="dynamic-bg"
            class="absolute inset-0 z-0 overflow-hidden pointer-events-none opacity-60 dark:opacity-30 transition-transform duration-100 ease-out">
            <div
                class="absolute top-0 left-1/4 w-96 h-96 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob">
            </div>
            <div
                class="absolute top-0 right-1/4 w-96 h-96 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000">
            </div>
            <div
                class="absolute -bottom-8 left-1/2 w-96 h-96 bg-indigo-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000">
            </div>
        </div>

        <div class="z-10 space-y-12 max-w-5xl">
            <h1 class="text-7xl md:text-[10rem] font-display font-bold tracking-tighter leading-none opacity-0 translate-y-10 text-transparent bg-clip-text bg-gradient-to-br from-gray-900 via-gray-700 to-gray-900 dark:from-white dark:via-gray-200 dark:to-gray-500"
                id="heroTitle">
                VIKKI.
            </h1>
            <div id="heroSubWrapper" class="opacity-0 translate-y-10">
                <p
                    class="text-xl md:text-3xl font-light text-gray-700 dark:text-gray-300 max-w-2xl mx-auto prof-only leading-relaxed tracking-wide">
                    Creative Developer crafting <span class="font-medium text-accent relative">digital souls</span> from
                    lines of code.
                </p>
                <p class="text-2xl md:text-3xl font-light text-gray-700 dark:text-gray-400 max-w-xl mx-auto creative-only font-typewriter"
                    id="heroTypewriter">
                </p>
            </div>
        </div>

        <div class="absolute bottom-10 left-1/2 -translate-x-1/2 animate-bounce opacity-50 z-20">
            <a href="#about" class="cursor-pointer block p-4 hover:text-accent transition-colors">
                <i class="fas fa-arrow-down text-xl"></i>
            </a>
        </div>
    </section>

    <section id="about" class="min-h-screen flex items-center justify-center py-24 px-6 relative">
        <div class="max-w-6xl w-full grid grid-cols-1 md:grid-cols-2 gap-24 items-center">

            <div class="space-y-10 reveal-on-scroll">
                <div class="flex items-center gap-4">
                    <span class="h-[1px] w-12 bg-accent"></span>
                    <span class="text-sm font-mono text-accent tracking-[0.2em] uppercase">About Me</span>
                </div>

                <h2 class="text-5xl md:text-6xl font-display font-bold leading-[1.1]">
                    Engineer with a <span class="text-gray-400 italic font-serif">vision</span> for
                    <span class="text-gray-400 italic font-serif">impact.</span>
                </h2>

                <p class="text-lg leading-loose text-gray-600 dark:text-gray-300 font-light">
                    I am Vignesh V, a dedicated Computer Science engineer. My work focuses on building meaningful
                    applications that solve real-world problems.
                    Whether it's assistive technology for the visually impaired or immersive VR experiences, I believe
                    code should serve a purpose beyond the screen.
                </p>

                <div class="flex flex-wrap gap-3 mt-8">
                    <span
                        class="px-5 py-2 bg-white/50 dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-full text-xs font-mono backdrop-blur-sm">Python</span>
                    <span
                        class="px-5 py-2 bg-white/50 dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-full text-xs font-mono backdrop-blur-sm">C++</span>
                    <span
                        class="px-5 py-2 bg-white/50 dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-full text-xs font-mono backdrop-blur-sm">Unity</span>
                    <span
                        class="px-5 py-2 bg-white/50 dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-full text-xs font-mono backdrop-blur-sm">Next.js</span>
                    <span
                        class="px-5 py-2 bg-white/50 dark:bg-white/5 border border-black/5 dark:border-white/10 rounded-full text-xs font-mono backdrop-blur-sm">WebGL</span>
                </div>
                <div class="mt-10">
                    <a href="https://drive.google.com/file/d/1t4P6RNxN4cz7NKTBqEjPh11JtpCgZwnG/view" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="inline-flex items-center gap-3 px-8 py-3 bg-accent text-white rounded-full font-medium transition-all hover:bg-blue-700 hover:scale-105 shadow-lg hover:shadow-blue-500/30 group">
                        <i class="fas fa-file-download text-lg group-hover:animate-bounce"></i>
                        <span>Download Resume</span>
                    </a>
                </div>
            </div>
            
            
            <div class="relative reveal-on-scroll group order-1 md:order-2">

                <div
                    class="absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 blur-[100px] opacity-20 group-hover:opacity-40 transition-opacity duration-1000">
                </div>
                <div
                    class="relative h-[600px] bg-gray-200 dark:bg-gray-800 rounded-[2rem] overflow-hidden shadow-2xl transition-all duration-700 ease-out border border-white/10">
                    <img src="https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=600&auto=format&fit=crop"
                        loading="lazy" alt="Abstract Art"
                        class="object-cover w-full h-full scale-105 group-hover:scale-100 transition-transform duration-700 grayscale hover:grayscale-0">
                </div>
            </div>
        </div>
    </section>

    <section id="resume" class="min-h-screen py-24 px-6 bg-white dark:bg-[#080808] relative">
        <div
            class="absolute top-0 left-0 w-full h-full bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] dark:bg-[radial-gradient(#1f2937_1px,transparent_1px)] [background-size:16px_16px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_70%,transparent_100%)] pointer-events-none">
        </div>

        <div class="text-center mb-24 reveal-on-scroll relative z-10">
            <span class="text-sm font-mono text-accent tracking-widest uppercase mb-4 block">Timeline</span>
            <h2 class="text-5xl md:text-7xl font-display font-bold">Experience</h2>
        </div>

        <div class="resume-container reveal-on-scroll relative z-10">
            <div class="resume-grid">

                <div class="space-y-10">
                    <h3 id="eduTitle"
                        class="text-xl font-bold font-mono text-gray-400 uppercase tracking-widest border-b pb-4 border-gray-200 dark:border-gray-800">
                        Education
                    </h3>

                    <div class="spotlight-card" style="--rot: -2deg">
                        <span class="hand-label">Top Scorer!</span>
                        <div class="flex justify-between items-start mb-4">
                            <h4 class="text-2xl font-bold">B.E. Computer Science</h4>
                            <span
                                class="text-xs font-mono text-accent border border-accent/20 px-3 py-1 rounded-full">2022
                                - Present</span>
                        </div>
                        <p class="text-lg font-medium mb-2">Sri Ramakrishna Institute of Technology</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">CGPA: 8.77  Specialized in Core Computing
                        </p>
                    </div>

                    <div class="spotlight-card" style="--rot: 1deg">
                        <div class="flex justify-between items-start mb-4">
                            <h4 class="text-2xl font-bold">BS Data Science</h4>
                            <span
                                class="text-xs font-mono text-accent border border-accent/20 px-3 py-1 rounded-full">2024
                                - 2025</span>
                        </div>
                        <p class="text-lg font-medium mb-2">IIT Madras (Foundation)</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">CGPA: 7.38  Analytical & Statistical
                            Methods</p>
                    </div>
                </div>

                <div class="space-y-10">
                    <h3 id="expTitle"
                        class="text-xl font-bold font-mono text-gray-400 uppercase tracking-widest border-b pb-4 border-gray-200 dark:border-gray-800">
                        Experience
                    </h3>

                    <div class="spotlight-card" style="--rot: 2deg">
                        <span class="hand-label">Unity + VR</span>
                        <div class="flex justify-between items-start mb-4">
                            <h4 class="text-2xl font-bold">Game Dev Intern</h4>
                            <span
                                class="text-xs font-mono text-purple-500 border border-purple-500/20 px-3 py-1 rounded-full">Aug
                                - Nov 2025</span>
                        </div>
                        <p class="text-lg font-medium mb-2">IEEE EMBS SBC IIT Kharagpur</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Built Unity VR puzzle experience for
                            autistic children.</p>
                    </div>

                    <div class="spotlight-card" style="--rot: -1deg">
                        <div class="flex justify-between items-start mb-4">
                            <h4 class="text-2xl font-bold">Full Stack Intern</h4>
                            <span
                                class="text-xs font-mono text-purple-500 border border-purple-500/20 px-3 py-1 rounded-full">Jun
                                - Jul 2024</span>
                        </div>
                        <p class="text-lg font-medium mb-2">Sri Ethiraja Technologies</p>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Built a temple management website
                            (PHP/MySQL).</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="projects"
        class="min-h-screen flex flex-col items-center justify-center py-24 px-6 bg-gray-50 dark:bg-[#030303]">
        <div class="max-w-[1400px] w-full">
            <div class="flex flex-col md:flex-row justify-between items-end mb-24 px-4 reveal-on-scroll">
                <div>
                    <span class="text-sm font-mono text-accent tracking-widest uppercase">Portfolio</span>
                    <h2 class="text-5xl md:text-7xl font-display font-bold mt-4">Selected Works (04)</h2>
                </div>
                <a href="#canvas"
                    class="text-xl font-hand rotate-6 opacity-60 hidden md:block hover:opacity-100 hover:text-accent transition-all creative-only">Explore
                    visual archives -></a>
            </div>

            <div class="project-grid reveal-on-scroll">
                <div class="project-card">
                    <div class="card-inner">
                        <img src="https://images.unsplash.com/photo-1635322966219-b75ed372eb01?w=800&auto=format&fit=crop"
                            loading="lazy" class="card-image">
                        <video src="https://videos.pexels.com/video-files/7578546/7578546-uhd_2560_1440_30fps.mp4"
                            class="card-video" muted loop playsinline preload="none"></video>
                        <div class="card-overlay">
                            <div class="card-content">
                                <span class="tech-tag">IOT / ASSISTIVE</span>
                                <h3 class="text-3xl font-bold text-white mb-2">Ultracane</h3>
                                <p class="text-gray-200 text-base">Smart cane for visually impaired navigation.</p>
                                <div class="card-buttons">
                                    <a href="YOUR_DRIVE_LINK_HERE" target="_blank"
                                        class="px-4 py-2 bg-white text-black rounded-full text-xs font-bold hover:bg-gray-200 transition-colors">VIEW
                                        CONCEPT</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="card-inner">
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&auto=format&fit=crop"
                            loading="lazy" class="card-image">
                        <video src="https://videos.pexels.com/video-files/8539613/8539613-uhd_2560_1440_25fps.mp4"
                            class="card-video" muted loop playsinline preload="none"></video>
                        <div class="card-overlay">
                            <div class="card-content">
                                <span class="tech-tag">AR / VR</span>
                                <h3 class="text-3xl font-bold text-white mb-2">Travel AR</h3>
                                <p class="text-gray-200 text-base">Immersive AR tourism map experience.</p>
                                <div class="card-buttons">
                                    <a href="YOUR_DRIVE_LINK_HERE" target="_blank"
                                        class="px-4 py-2 bg-white text-black rounded-full text-xs font-bold hover:bg-gray-200 transition-colors">VIEW
                                        CONCEPT</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="card-inner">
                        <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800&auto=format&fit=crop"
                            loading="lazy" class="card-image">
                        <video src="https://videos.pexels.com/video-files/4763914/4763914-uhd_2560_1440_24fps.mp4"
                            class="card-video" muted loop playsinline preload="none"></video>
                        <div class="card-overlay">
                            <div class="card-content">
                                <span class="tech-tag">SUSTAINABILITY</span>
                                <h3 class="text-3xl font-bold text-white mb-2">Blobinator</h3>
                                <p class="text-gray-200 text-base">Eco-friendly water blob maker.</p>
                                <div class="card-buttons">
                                    <a href="YOUR_DRIVE_LINK_HERE" target="_blank"
                                        class="px-4 py-2 bg-white text-black rounded-full text-xs font-bold hover:bg-gray-200 transition-colors">VIEW
                                        CONCEPT</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="project-card">
                    <div class="card-inner">
                        <img src="https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?w=800&auto=format&fit=crop"
                            loading="lazy" class="card-image">
                        <video src="https://videos.pexels.com/video-files/2600913/2600913-sd_640_360_30fps.mp4"
                            class="card-video" muted loop playsinline preload="none"></video>
                        <div class="card-overlay">
                            <div class="card-content">
                                <span class="tech-tag">GAME DEV</span>
                                <h3 class="text-3xl font-bold text-white mb-2">Dino Dash</h3>
                                <p class="text-gray-200 text-base">Java-based obstacle platformer.</p>
                                <div class="card-buttons">
                                    <a href="#"
                                        class="px-4 py-2 bg-white text-black rounded-full text-xs font-bold hover:bg-gray-200 transition-colors">LIVE
                                        DEMO</a>
                                    <a href="YOUR_DRIVE_LINK_HERE" target="_blank"
                                        class="px-4 py-2 bg-black/50 text-white border border-white/20 rounded-full text-xs font-bold hover:bg-black/80 transition-colors">VIEW
                                        CONCEPT</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="poetry"
        class="min-h-screen flex flex-col items-center justify-center py-24 px-6 relative overflow-hidden creative-only">
        <div class="text-center mb-16 reveal-on-scroll">
            <span class="text-sm font-mono text-accent tracking-widest uppercase">Creative Writing</span>
            <h2 class="text-5xl font-display font-bold mt-2">Fragments of Thought</h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-10 max-w-6xl w-full">
            <div class="poem-card" style="--rotation: -3deg;">
                <div class="bg-white p-8 shadow-lg rotate-[-2deg]">
                    <h3 class="text-2xl font-bold font-hand text-blue-600">The Compile</h3>
                    <p class="font-hand text-xl mt-4">I wrote a function for happiness,<br>But it returned
                        'undefined'.<br>Guess I missed a semicolon,<br>Or maybe just my mind.</p>
                </div>
            </div>
            <div class="poem-card" style="--rotation: 2deg;">
                <div class="bg-white p-8 shadow-lg rotate-[2deg]">
                    <h3 class="text-2xl font-bold font-hand text-purple-600">Glitch</h3>
                    <p class="font-hand text-xl mt-4">My coffee cup is empty,<br>The terminal is black.<br>If I stare at
                        it long enough,<br>Will the bugs fight back?</p>
                </div>
            </div>
            <div class="poem-card" style="--rotation: -1deg;">
                <div class="bg-white p-8 shadow-lg rotate-[-1deg]">
                    <h3 class="text-2xl font-bold font-hand text-emerald-600">Hello World</h3>
                    <p class="font-hand text-xl mt-4">Is it really a world out there?<br>Or just a really high-res
                        div?<br>With optimized CSS,<br>And a will to live.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="canvas"
        class="creative-only h-screen w-full flex flex-col justify-center items-center relative overflow-hidden">
        <div class="text-center mb-2 reveal-on-scroll z-20 relative pt-10">
            <span class="text-sm font-mono text-accent tracking-widest uppercase">Photography</span>
            <h2 class="text-5xl font-display font-bold mt-2">Visual Archives</h2>
        </div>

        <div class="canvas-container">
            <h2 class="canvas-bg-text">THROUGH<br>THE LENS</h2>
            <div class="canvas-box" id="photo-box"></div>
        </div>
        <div class="mt-2 text-center opacity-50 font-mono text-xs pb-4">
            [ DRAG PHOTOS TO REARRANGE ]
        </div>
    </section>

    <section id="player" class="py-24 flex flex-col items-center justify-center relative creative-block">
        <div class="text-center mb-10 reveal-on-scroll">
            <h2 class="text-4xl font-display font-bold">Sonic Lab</h2>
            <p class="text-gray-500 mt-2">Spin the record.</p>
        </div>

        <div class="scale-110 reveal-on-scroll">
            <div class="flex flex-col items-center group/he select-none relative">
                <div class="relative z-0 h-16 -mb-2 transition-all duration-200 group-hover/he:h-0">
                    <svg id="mainVinyl" width="128" height="128" viewBox="0 0 128 128"
                        class="duration-500 border-4 rounded-full shadow-md border-zinc-400 dark:border-zinc-600 border-spacing-5 animate-[spin_4s_linear_infinite] paused-anim transition-all bg-black">
                        <svg>
                            <rect width="128" height="128" fill="#18181b"></rect>
                            <circle cx="64" cy="64" r="60" fill="none" stroke="#27272a" stroke-width="1"></circle>
                            <circle cx="64" cy="64" r="55" fill="none" stroke="#27272a" stroke-width="1"></circle>
                            <circle cx="64" cy="64" r="50" fill="none" stroke="#27272a" stroke-width="1"></circle>
                            <circle id="mainLabelColor" cx="64" cy="64" r="24" fill="#ef4444"></circle>
                            <circle cx="64" cy="64" r="4" fill="white"></circle>
                            <path d="M0 128 Q32 64 64 128 T128 128" fill="rgba(255,255,255,0.1)" stroke="none"></path>
                        </svg>
                    </svg>
                    <div
                        class="absolute z-10 w-8 h-8 bg-white dark:bg-gray-700 border-4 rounded-full shadow-sm border-zinc-400 dark:border-zinc-600 top-12 left-12">
                    </div>
                </div>

                <div
                    class="relative z-30 flex flex-col w-52 h-20 transition-all duration-300 bg-white dark:bg-gray-800 shadow-xl group-hover/he:h-44 group-hover/he:w-[28rem] rounded-2xl shadow-zinc-400 dark:shadow-black overflow-hidden border border-transparent dark:border-gray-700">
                    <div
                        class="flex flex-row w-full h-0 group-hover/he:h-24 transition-all duration-300 relative items-center">
                        <div
                            class="relative flex items-center justify-center w-24 h-24 ml-2 group-hover/he:opacity-100 opacity-0 transition-opacity duration-300">
                            <div id="artContainer"
                                class="w-20 h-20 rounded-full border-4 border-zinc-200 dark:border-zinc-600 shadow-md overflow-hidden animate-[spin_4s_linear_infinite] paused-anim">
                                <img id="albumArtImg" src="" alt="Cover" class="w-full h-full object-cover" />
                            </div>
                            <div
                                class="absolute w-4 h-4 bg-white dark:bg-gray-800 rounded-full border border-gray-300 dark:border-gray-600">
                            </div>
                        </div>
                        <div
                            class="flex flex-col justify-center flex-grow pl-4 pr-10 overflow-hidden whitespace-nowrap opacity-0 group-hover/he:opacity-100 transition-opacity duration-300 delay-75">
                            <p id="songTitle" class="text-xl font-bold text-gray-800 dark:text-white truncate">Song
                                Title</p>
                            <p id="songArtist" class="text-sm text-gray-500 dark:text-gray-400 truncate">Artist Name</p>
                        </div>
                    </div>
                    <div
                        class="flex flex-row mx-4 mt-6 bg-indigo-50 dark:bg-gray-700 rounded-md h-6 items-center px-2 transition-all duration-300 group-hover/he:mt-0">
                        <span id="currTime"
                            class="hidden pl-1 text-xs text-gray-500 dark:text-gray-300 w-10 group-hover/he:inline-block">0:00</span>
                        <input type="range" id="progress" min="0" max="100" value="0"
                            class="w-full h-1 mx-2 my-auto bg-gray-300 dark:bg-gray-600 rounded-full appearance-none hover:h-2 transition-all cursor-pointer" />
                        <span id="durTime"
                            class="hidden pr-1 text-xs text-gray-500 dark:text-gray-300 w-10 text-right group-hover/he:inline-block">0:00</span>
                    </div>
                    <div
                        class="flex flex-row items-center justify-between mx-6 pb-2 mt-2 text-gray-600 dark:text-gray-300">
                        <div class="flex items-center gap-3">
                            <button id="shuffleBtn"
                                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors focus:outline-none"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polyline points="16 3 21 3 21 8"></polyline>
                                    <line x1="4" y1="20" x2="21" y2="3"></line>
                                    <polyline points="21 16 21 21 16 21"></polyline>
                                    <line x1="15" y1="15" x2="21" y2="21"></line>
                                    <line x1="4" y1="4" x2="9" y2="9"></line>
                                </svg></button>
                            <button id="prevBtn"
                                class="hover:text-indigo-600 dark:hover:text-indigo-400 focus:outline-none"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polygon points="19 20 9 12 19 4 19 20"></polygon>
                                    <line x1="5" y1="19" x2="5" y2="5"></line>
                                </svg></button>
                        </div>
                        <button id="playBtn"
                            class="flex items-center justify-center w-10 h-10 bg-indigo-600 text-white rounded-full shadow-md hover:bg-indigo-700 hover:scale-105 transition-all focus:outline-none mx-2">
                            <svg id="playIcon" class="ml-0.5" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            </svg>
                            <svg id="pauseIcon" class="hidden" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="6" y="4" width="4" height="16"></rect>
                                <rect x="14" y="4" width="4" height="16"></rect>
                            </svg>
                        </button>
                        <div class="flex items-center gap-3">
                            <button id="nextBtn"
                                class="hover:text-indigo-600 dark:hover:text-indigo-400 focus:outline-none"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polygon points="5 4 15 12 5 20 5 4"></polygon>
                                    <line x1="19" y1="5" x2="19" y2="19"></line>
                                </svg></button>
                            <button id="repeatBtn"
                                class="hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors focus:outline-none"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <polyline points="17 1 21 5 17 9"></polyline>
                                    <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                                    <polyline points="7 23 3 19 7 15"></polyline>
                                    <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                                </svg></button>
                        </div>
                        <div class="w-px h-6 bg-gray-300 dark:bg-gray-600 mx-2"></div>
                        <div class="flex items-center gap-2 group/vol relative">
                            <button id="muteBtn"
                                class="hover:text-indigo-600 dark:hover:text-indigo-400 focus:outline-none">
                                <svg id="volIconHigh" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                                </svg>
                                <svg id="volIconMute" class="hidden" xmlns="http://www.w3.org/2000/svg" width="18"
                                    height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                    <line x1="23" y1="9" x2="17" y2="15"></line>
                                    <line x1="17" y1="9" x2="23" y2="15"></line>
                                </svg>
                            </button>
                            <div class="w-0 overflow-hidden group-hover/vol:w-16 transition-all duration-300 ease-out">
                                <input type="range" id="volSlider" min="0" max="1" step="0.1" value="1"
                                    class="w-16 h-1 bg-gray-300 dark:bg-gray-600 rounded-full appearance-none cursor-pointer">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="chat-section">
        <div class="contact-grid">
            <div class="flex flex-col items-center md:items-start gap-8">
                <div class="text-center md:text-left">
                    <span class="text-sm font-mono text-accent tracking-widest uppercase">Contact</span>
                    <h2 class="text-4xl font-display font-bold mt-2">Drop me a line.</h2>
                    <div class="flex items-center gap-3 justify-center md:justify-start mt-4">
                        <p class="text-gray-500 font-mono text-base" id="emailText">vigneshvijayaanandan@gmail.com</p>
                        <button onclick="handleCopyEmail(this)"
                            class="text-gray-400 hover:text-accent transition-colors p-2" title="Copy Email">
                            <i class="far fa-copy text-lg"></i>
                        </button>
                    </div>
                </div>

                <div class="flex flex-col items-center gap-6">
                    <div class="flex items-center gap-10">
                        <div class="clock-container" id="live-clock">
                            <div class="clock-unit" id="h10">
                                <div class="upper-card"><span>0</span></div>
                                <div class="lower-card"><span>0</span></div>
                                <div class="flip-card front"><span>0</span></div>
                                <div class="flip-card back"><span>0</span></div>
                            </div>
                            <div class="clock-unit" id="h1">
                                <div class="upper-card"><span>0</span></div>
                                <div class="lower-card"><span>0</span></div>
                                <div class="flip-card front"><span>0</span></div>
                                <div class="flip-card back"><span>0</span></div>
                            </div>
                            <div class="clock-separator">:</div>
                            <div class="clock-unit" id="m10">
                                <div class="upper-card"><span>0</span></div>
                                <div class="lower-card"><span>0</span></div>
                                <div class="flip-card front"><span>0</span></div>
                                <div class="flip-card back"><span>0</span></div>
                            </div>
                            <div class="clock-unit" id="m1">
                                <div class="upper-card"><span>0</span></div>
                                <div class="lower-card"><span>0</span></div>
                                <div class="flip-card front"><span>0</span></div>
                                <div class="flip-card back"><span>0</span></div>
                            </div>
                            <span class="ampm-indicator" id="ampm">AM</span>
                        </div>

                        <section
                            class="relative group flex flex-col items-center justify-center w-32 h-24 cursor-pointer"
                            onclick="triggerFolderFun()">
                            <div class="file relative w-24 h-16 origin-bottom [perspective:1500px] z-50">

                                <div
                                    class="work-5 bg-amber-600 w-full h-full origin-top rounded-2xl rounded-tl-none group-hover:shadow-[0_20px_40px_rgba(0,0,0,.2)] transition-all ease duration-300 relative after:absolute after:content-[''] after:bottom-[99%] after:left-0 after:w-8 after:h-3 after:bg-amber-600 after:rounded-t-2xl before:absolute before:content-[''] before:-top-[10px] before:left-[28px] before:w-3 before:h-3 before:bg-amber-600 before:[clip-path:polygon(0_35%,0%_100%,50%_100%);]">
                                </div>
                                <div
                                    class="work-4 absolute inset-1 bg-zinc-400 rounded-xl transition-all ease duration-300 origin-bottom select-none group-hover:[transform:rotateX(-20deg)]">
                                </div>
                                <div
                                    class="work-3 absolute inset-1 bg-zinc-300 rounded-xl transition-all ease duration-300 origin-bottom group-hover:[transform:rotateX(-30deg)]">
                                </div>
                                <div
                                    class="work-2 absolute inset-1 bg-zinc-200 rounded-xl transition-all ease duration-300 origin-bottom group-hover:[transform:rotateX(-38deg)]">
                                </div>
                                <div
                                    class="work-1 absolute bottom-0 bg-gradient-to-t from-amber-500 to-amber-400 w-full h-[55px] rounded-xl rounded-tr-none after:absolute after:content-[''] after:bottom-[99%] after:right-0 after:w-[50px] after:h-[12px] after:bg-amber-400 after:rounded-t-xl before:absolute before:content-[''] before:-top-[8px] before:right-[46px] before:size-2 before:bg-amber-400 before:[clip-path:polygon(100%_14%,50%_100%,100%_100%);] transition-all ease duration-300 origin-bottom flex items-end group-hover:shadow-[inset_0_20px_40px_#fbbf24,_inset_0_-20px_40px_#d97706] group-hover:[transform:rotateX(-46deg)_translateY(1px)]">
                                </div>
                            </div>
                        </section>
                    </div>

                    <div class="prof-only w-full max-w-lg mx-auto relative z-10">
                        <p class="hook-text">Too professional? <span
                                class="font-bold underline cursor-pointer hover:text-accent transition-colors"
                                onclick="document.getElementById('vibeToggle').click()">Switch to Creative Mode.</span>
                        </p>
                    </div>

                    <div class="creative-only w-full max-w-lg mx-auto relative z-10">
                        <p class="hook-text">Too chaotic? <span
                                class="font-bold underline cursor-pointer hover:text-accent transition-colors"
                                onclick="document.getElementById('vibeToggle').click()">Switch to Professional
                                Mode.</span></p>
                    </div>
                </div>
            </div>

            <div class="w-full flex justify-center md:justify-end">
                <div class="chat-interface w-full" id="mainChatInterface">
                    <div class="chat-top-bar">
                        <div class="chat-person">
                            <div class="chat-pfp"><i class="fas fa-envelope"></i></div>
                            <div class="chat-details">
                                <h3 class="font-bold text-sm">Vikki</h3>
                                <div class="chat-status"><span>Typically replies in 24h</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="chat-area" id="chat-messages"></div>

                    <div
                        class="p-2 text-[10px] text-gray-400 text-center bg-gray-50 dark:bg-[#0d0d0d] border-t dark:border-gray-800">
                        Sending will open your default email client.
                    </div>

                    <div class="chat-input-area">
                        <input type="text" id="mail-input" class="real-input" placeholder="Compose your message..."
                            autocomplete="off">
                        <button class="send-button" id="mail-send-btn"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // --- 1. GLOBAL SETUP & PRELOADER ---
        document.addEventListener("DOMContentLoaded", () => {
            const preloader = document.getElementById('preloader');
            const paths = document.querySelectorAll('.handwriting-path');

            // Set up SVG Dasharray
            paths.forEach(el => {
                const len = el.getTotalLength();
                el.style.strokeDasharray = len;
                el.style.strokeDashoffset = len;
            });

            // GSAP Sequence: SVG Draw -> Fade Out -> Hero Text Reveal
            const tl = gsap.timeline({
                onComplete: () => {
                    gsap.to(preloader, {
                        opacity: 0, duration: 1, delay: 0.5, onComplete: () => {
                            preloader.style.visibility = 'hidden';
                            initHeroAnimations();
                            initFixedClock();
                        }
                    });
                }
            });

            tl.to("#stroke1", { strokeDashoffset: 0, duration: 0.8, ease: "power2.inOut" })
                .to("#stroke2", { strokeDashoffset: 0, duration: 0.6, ease: "power2.inOut" })
                .to("#stroke3", { strokeDashoffset: 0, duration: 0.6, ease: "power2.inOut" })
                .to("#dot1", { strokeDashoffset: 0, duration: 0.1 })
                .to("#dot2", { strokeDashoffset: 0, duration: 0.1 });

            initTheme();
            initVibeToggle();
            loadSong(songs[songIndex]);
            initCursor();
            initProjectTilt();
            initCanvas();
            initChatSystem();
            initScrollSpy();
            initVideoHover();
            initSpotlightEffect();
            initModalPagination();
            initDynamicBg(); // New background logic

            // Konami Code
            const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            let kPos = 0;
            document.addEventListener('keydown', (e) => {
                if (e.key === konamiCode[kPos]) {
                    kPos++;
                    if (kPos === konamiCode.length) {
                        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                        showToast(" KONAMI CODE ACTIVATED! PARTY MODE! ");
                        document.body.style.animation = "spin 1s linear";
                        kPos = 0;
                    }
                } else { kPos = 0; }
            });
        });

        // --- NEW: DYNAMIC BACKGROUND ---
        function initDynamicBg() {
            const bg = document.getElementById('dynamic-bg');
            let x = 0, y = 0;
            let targetX = 0, targetY = 0;

            window.addEventListener('mousemove', (e) => {
                targetX = (e.clientX - window.innerWidth / 2) * 0.05;
                targetY = (e.clientY - window.innerHeight / 2) * 0.05;
            });

            function animateBg() {
                x += (targetX - x) * 0.1;
                y += (targetY - y) * 0.1;
                bg.style.transform = `translate(${x}px, ${y}px)`;
                requestAnimationFrame(animateBg);
            }
            animateBg();
        }

        // --- 2. VIBE TOGGLE LOGIC + TRANSITION ---
        function initVibeToggle() {
            const toggle = document.getElementById('vibeToggle');
            const overlay = document.getElementById('mode-transition-overlay');
            const icon = toggle.querySelector('i');
            const resumeBtn = document.getElementById('resumeBtn'); // This is the old one inside contact (kept for fallback)
            const eduTitle = document.getElementById('eduTitle');
            const expTitle = document.getElementById('expTitle');

            toggle.addEventListener('click', () => {
                const rect = toggle.getBoundingClientRect();
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;

                const isGoingCreative = !document.body.classList.contains('creative-mode');
                const nextColor = isGoingCreative ? '#8b5cf6' : '#111';
                overlay.style.backgroundColor = nextColor;

                const tl = gsap.timeline();

                tl.fromTo(overlay,
                    { clipPath: `circle(0% at ${x}px ${y}px)` },
                    { clipPath: `circle(300% at ${x}px ${y}px)`, duration: 1.0, ease: "power2.inOut" }
                )
                    .call(() => {
                        document.body.classList.toggle('creative-mode');

                        if (document.body.classList.contains('creative-mode')) {
                            icon.className = 'fas fa-bolt text-white';
                            document.title = "Vikki | Creative";
                            if (resumeBtn) resumeBtn.innerHTML = '<i class="fas fa-download mr-2"></i>Download Cool Resume';
                            eduTitle.innerText = "Proof I Learn";
                            expTitle.innerText = "Proof I Work";
                            typeWriterEffect();
                        } else {
                            icon.className = 'fas fa-palette text-gray-800 dark:text-gray-200';
                            document.title = "Vikki | Engineer";
                            if (resumeBtn) resumeBtn.innerHTML = '<i class="fas fa-download mr-2"></i>Download Resume';
                            eduTitle.innerText = "Education";
                            expTitle.innerText = "Experience";
                            if (!audio.paused) {
                                document.getElementById('playBtn').click();
                            }
                        }
                        ScrollTrigger.refresh();
                    }, null, "-=0.5")
                    .to(overlay, {
                        opacity: 0, duration: 0.4, onComplete: () => {
                            overlay.style.clipPath = `circle(0% at ${x}px ${y}px)`;
                            overlay.style.opacity = 1;
                        }
                    });
            });
        }

        // --- 3. HERO ANIMATIONS ---
        function initHeroAnimations() {
            const title = document.getElementById('heroTitle');
            const text = title.innerText.trim();
            title.innerHTML = text.split('').map(char => {
                return char === ' ' ? '&nbsp;' : `<span class="hover-char inline-block cursor-default">${char}</span>`;
            }).join('');

            gsap.to("#heroTitle", { opacity: 1, y: 0, duration: 1.5, ease: "power4.out" });
            gsap.to("#heroSubWrapper", { opacity: 1, y: 0, duration: 1.5, delay: 0.3, ease: "power4.out" });

            const reveals = document.querySelectorAll('.reveal-on-scroll');
            reveals.forEach(el => {
                gsap.fromTo(el, { opacity: 0, y: 60 }, { opacity: 1, y: 0, duration: 1.2, ease: "power3.out", scrollTrigger: { trigger: el, start: "top 85%" } });
            });
        }

        function typeWriterEffect() {
            const words = ["I basically live in code editors.", "Made with  and anxiety.", "Pixels are my favorite food.", "I break things to fix them."];
            const el = document.getElementById('heroTypewriter');
            gsap.killTweensOf(el);

            if (document.body.classList.contains('creative-mode')) {
                let masterTl = gsap.timeline({ repeat: -1 });
                words.forEach(word => {
                    let tl = gsap.timeline({ repeat: 1, yoyo: true, repeatDelay: 1 });
                    tl.to(el, { duration: 1.5, text: word });
                    masterTl.add(tl);
                });
            }
        }

        // --- 4. SAFE CURSOR LOGIC ---
        let mouseX = 0, mouseY = 0; let cursorX = 0, cursorY = 0;
        function initCursor() {
            if (matchMedia('(pointer: fine)').matches) {
                document.body.classList.add('custom-cursor-active');

                const cursor = document.getElementById('cursor-lens');
                window.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });

                function animateCursor() {
                    cursorX += (mouseX - cursorX) * 0.2;
                    cursorY += (mouseY - cursorY) * 0.2;
                    cursor.style.transform = `translate(${cursorX}px, ${cursorY}px) translate(-50%, -50%)`;
                    requestAnimationFrame(animateCursor);
                }
                animateCursor();

                document.addEventListener('mousedown', () => document.body.classList.add('is-clicking'));
                document.addEventListener('mouseup', () => document.body.classList.remove('is-clicking'));

                const clickables = document.querySelectorAll('a, button, input, textarea, .project-card, .dock-item');
                clickables.forEach(el => {
                    el.addEventListener('mouseenter', () => document.body.classList.add('is-hovering'));
                    el.addEventListener('mouseleave', () => document.body.classList.remove('is-hovering'));
                });
            }
        }

        // --- 5. SPOTLIGHT EFFECT ---
        function initSpotlightEffect() {
            const cards = document.querySelectorAll('.spotlight-card, .project-card');
            cards.forEach(card => {
                card.onmousemove = e => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    card.style.setProperty('--mouse-x', `${x}px`);
                    card.style.setProperty('--mouse-y', `${y}px`);
                };
            });
        }

        // --- 6. IMPROVED SCROLL SPY ---
        function initScrollSpy() {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.dock-item');

            // New logic: Check which section takes up the most screen space
            window.addEventListener('scroll', () => {
                let current = '';

                // If at very top, force home
                if (window.scrollY < 100) {
                    current = 'home';
                } else if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 50) {
                    // If at very bottom, force contact
                    current = 'chat-section';
                } else {
                    // Otherwise calculate viewport overlap
                    sections.forEach(section => {
                        const rect = section.getBoundingClientRect();
                        // Section needs to be at least partially visible
                        if (rect.top < window.innerHeight / 2 && rect.bottom > window.innerHeight / 2) {
                            current = section.getAttribute('id');
                        }
                    });
                }

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    const href = link.getAttribute('href');
                    if (href && href.substring(1) === current) {
                        link.classList.add('active');
                    }
                });
            });
        }

        // --- 7. TILT & VIDEO ---
        function initProjectTilt() {
            const cards = document.querySelectorAll('.project-card');
            cards.forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left; y = e.clientY - rect.top;
                    const rotateX = ((y - rect.height / 2) / rect.height / 2) * -5;
                    const rotateY = ((x - rect.width / 2) / rect.width / 2) * 5;
                    gsap.to(card, { transform: `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`, duration: 0.1 });
                });
                card.addEventListener('mouseleave', () => {
                    gsap.to(card, { transform: `perspective(1000px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`, duration: 0.5, ease: "elastic.out(1, 0.5)" });
                });
            });
        }

        function initVideoHover() {
            const cards = document.querySelectorAll('.project-card');
            cards.forEach(card => {
                const video = card.querySelector('video');
                if (video) {
                    card.addEventListener('mouseenter', () => {
                        video.play().catch(e => console.log("Autoplay blocked"));
                    });
                    card.addEventListener('mouseleave', () => {
                        video.pause();
                        video.currentTime = 0;
                    });
                }
            });
        }

        // --- 8. CANVAS (VISUAL ARCHIVE) ---
        function initCanvas() {
            const photoBox = document.getElementById("photo-box");
            if (!photoBox) return; // Guard for mobile where canvas might be hidden

            const photos = [
                { url: "https://images.unsplash.com/photo-1542038784456-1ea0e93ca64b?q=80&w=500", caption: "Tokyo Nights" },
                { url: "https://images.unsplash.com/photo-1605379399642-870262d3d051?q=80&w=500", caption: "Algorithm" },
                { url: "https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?q=80&w=500", caption: "Speed" },
                { url: "https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=500", caption: "Retro Tech" },
                { url: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?q=80&w=500", caption: "Neon Dreams" },
                { url: "https://images.unsplash.com/photo-1511447333015-45b65e60f6d5?q=80&w=500", caption: "Analog" },
                { url: "https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?q=80&w=500", caption: "Matrix" }
            ];

            photos.forEach((photo) => {
                const card = document.createElement("div");
                card.className = "photo-card";
                const rX = Math.random() * 60 + 20; const rY = Math.random() * 60 + 20; const rRot = Math.random() * 30 - 15;
                card.style.left = `${rX}%`; card.style.top = `${rY}%`; card.style.transform = `translate(-50%, -50%) rotate(${rRot}deg)`;
                card.innerHTML = `<img src="${photo.url}" draggable="false" style="width:100%; pointer-events:none; border-radius:2px;"><div class="photo-caption">${photo.caption}</div>`;
                photoBox.appendChild(card);

                Draggable.create(card, {
                    type: "x,y", edgeResistance: 0.65, bounds: photoBox, inertia: true,
                    onPress: function () {
                        gsap.to(this.target, { scale: 1.05, zIndex: 100, duration: 0.2 });
                        document.body.classList.add('is-dragging');
                    },
                    onRelease: function () {
                        gsap.to(this.target, { scale: 1, zIndex: 10, duration: 0.2 });
                        document.body.classList.remove('is-dragging');
                    }
                });
            });
        }

        // --- 9. CHAT SYSTEM ---
        function initChatSystem() {
            let hasChatStarted = false;
            const chatInterface = document.getElementById('mainChatInterface');
            const chatBody = document.getElementById('chat-messages');

            ScrollTrigger.create({
                trigger: "#chat-section", start: "top 60%",
                onEnter: () => { if (!hasChatStarted) { hasChatStarted = true; chatInterface.classList.add('visible'); startConversation(); } }
            });

            function startConversation() {
                showTyping();
                setTimeout(() => { removeTyping(); addReceivedMessage("Hi there! Thanks for scrolling this far."); showTyping(); }, 2500);
                setTimeout(() => { removeTyping(); addReceivedMessage("If you're looking to collaborate, I'm currently available."); showTyping(); }, 5500);
            }

            function showTyping() {
                const bubble = document.createElement('div');
                bubble.className = 'msg-bubble received typing-indicator';
                bubble.innerHTML = '<div class="typing"><div class="t-dot"></div><div class="t-dot"></div><div class="t-dot"></div></div>';
                chatBody.appendChild(bubble); setTimeout(() => bubble.classList.add('visible'), 50); scrollToBottom();
            }
            function removeTyping() { const typing = chatBody.querySelector('.typing-indicator'); if (typing) typing.remove(); }
            function addReceivedMessage(text) {
                const bubble = document.createElement('div'); bubble.className = 'msg-bubble received'; bubble.innerText = text;
                chatBody.appendChild(bubble); setTimeout(() => bubble.classList.add('visible'), 50); scrollToBottom();
            }
            function scrollToBottom() { chatBody.scrollTop = chatBody.scrollHeight; }

            const input = document.getElementById('mail-input');
            const sendBtn = document.getElementById('mail-send-btn');

            function sendToMail() {
                const text = input.value.trim(); if (!text) return;

                const bubble = document.createElement('div');
                bubble.className = 'msg-bubble visible'; bubble.style.background = '#2563eb'; bubble.style.color = 'white'; bubble.style.alignSelf = 'flex-end'; bubble.style.borderBottomRightRadius = '4px'; bubble.innerText = text;
                chatBody.appendChild(bubble); scrollToBottom(); input.value = '';

                // Fallback to basic mailto
                const email = 'vigneshvijayaanandan@gmail.com';
                const subject = 'Project Inquiry from Portfolio';
                const body = encodeURIComponent(text);
                const url = `mailto:${email}?subject=${subject}&body=${body}`;
                setTimeout(() => { window.location.href = url; }, 800);
            }
            sendBtn.addEventListener('click', sendToMail);
            input.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendToMail(); });
        }

        // --- 10. CLOCK ---
        function initFixedClock() {
            const setDigit = (id, val) => {
                const group = document.getElementById(id);
                if (!group) return;
                const frontSpan = group.querySelector('.flip-card.front span');
                const current = parseInt(frontSpan.innerText);

                if (isNaN(current) || current !== val) {
                    const upper = group.querySelector('.upper-card span');
                    const lower = group.querySelector('.lower-card span');
                    const back = group.querySelector('.flip-card.back span');
                    back.innerText = val; lower.innerText = val;
                    group.classList.add('flip');
                    setTimeout(() => {
                        upper.innerText = val; frontSpan.innerText = val;
                        group.classList.remove('flip');
                    }, 500);
                }
            };
            const update = () => {
                const now = new Date();
                let h = now.getHours();
                const m = now.getMinutes();
                const ampm = h >= 12 ? 'PM' : 'AM';
                document.getElementById('ampm').innerText = ampm;

                h = h % 12;
                h = h ? h : 12;

                setDigit('h10', Math.floor(h / 10)); setDigit('h1', h % 10);
                setDigit('m10', Math.floor(m / 10)); setDigit('m1', m % 10);
            };
            update(); setInterval(update, 1000);
        }

        // --- 11. MODAL PAGINATION ---
        const modalPages = [
            `
            <ul class="space-y-3 font-mono text-sm">
                <li class="flex items-center gap-2">
                    <i class="fas fa-spinner fa-spin text-accent"></i> 
                    <span>AI-Powered Resume Roaster V2</span>
                </li>
                <li class="flex items-center gap-2">
                    <i class="fas fa-hourglass-half text-gray-400"></i> 
                    <span>3D WebGL Portfolio Template</span>
                </li>
                <li class="flex items-center gap-2">
                    <i class="fas fa-lock text-gray-400"></i> 
                    <span>Project "Nebula" (Confidential)</span>
                </li>
            </ul>
            <p class="mt-4 text-xs opacity-60">Page 1 of 3</p>
            `,
            `
            <ul class="space-y-3 font-mono text-sm">
                <li class="flex items-center gap-2">
                    <i class="fas fa-code text-accent"></i> 
                    <span>Open Source: React Grid Lib</span>
                </li>
                <li class="flex items-center gap-2">
                    <i class="fas fa-gamepad text-gray-400"></i> 
                    <span>Unity RPG Prototype</span>
                </li>
                <li class="flex items-center gap-2">
                    <i class="fas fa-mobile text-gray-400"></i> 
                    <span>Health Tracker App (Flutter)</span>
                </li>
            </ul>
             <p class="mt-4 text-xs opacity-60">Page 2 of 3</p>
            `,
            `
            <ul class="space-y-3 font-mono text-sm">
                <li class="flex items-center gap-2">
                    <i class="fas fa-pencil-alt text-accent"></i> 
                    <span>Tech Blog Launch</span>
                </li>
                 <li class="flex items-center gap-2">
                    <i class="fas fa-robot text-gray-400"></i> 
                    <span>Discord Bot for Students</span>
                </li>
            </ul>
             <p class="mt-4 text-xs opacity-60">Page 3 of 3</p>
            `
        ];
        let currentModalPage = 0;

        function initModalPagination() {
            const content = document.getElementById('modalContent');
            const prev = document.getElementById('modalPrev');
            const next = document.getElementById('modalNext');

            function render() {
                content.innerHTML = modalPages[currentModalPage];
                prev.style.opacity = currentModalPage === 0 ? '0.3' : '1';
                next.style.opacity = currentModalPage === modalPages.length - 1 ? '0.3' : '1';
                prev.style.pointerEvents = currentModalPage === 0 ? 'none' : 'auto';
                next.style.pointerEvents = currentModalPage === modalPages.length - 1 ? 'none' : 'auto';
            }

            prev.addEventListener('click', () => {
                if (currentModalPage > 0) { currentModalPage--; render(); }
            });
            next.addEventListener('click', () => {
                if (currentModalPage < modalPages.length - 1) { currentModalPage++; render(); }
            });

            render();
        }

        // --- 12. UTILS ---
        function initTheme() {
            const checkbox = document.querySelector(".theme-switch__checkbox");
            const savedTheme = localStorage.getItem("theme") || "dark";
            if (savedTheme === "dark") { document.documentElement.classList.add("dark"); checkbox.checked = true; }
            else { document.documentElement.classList.remove("dark"); checkbox.checked = false; }
            checkbox.addEventListener("change", () => {
                if (checkbox.checked) { document.documentElement.classList.add("dark"); localStorage.setItem("theme", "dark"); }
                else { document.documentElement.classList.remove("dark"); localStorage.setItem("theme", "light"); }
            });
        }

        function handleCopyEmail(btn) {
            const email = document.getElementById("emailText").innerText;
            navigator.clipboard.writeText(email).then(() => {
                const icon = btn.querySelector("i");
                icon.className = "fas fa-check text-green-500 text-lg";
                setTimeout(() => {
                    icon.className = "far fa-copy text-lg";
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }

        function triggerFolderFun() {
            const modal = document.getElementById('upcomingProjectsModal');
            modal.classList.add('open');
        }

        function closeFolder() {
            const modal = document.getElementById('upcomingProjectsModal');
            modal.classList.remove('open');
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 4000);
        }

        // Player Logic
        const songs = [
            { title: "Neon Lights", artist: "Synthwave Boy", path: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3", cover: "https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?q=80&w=300", color: "#6366f1" },
            { title: "Midnight", artist: "Lofi Girl", path: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3", cover: "https://images.unsplash.com/photo-1493225255756-d9584f8606e9?q=80&w=300", color: "#f43f5e" }
        ];
        let songIndex = 0, isPlaying = false; const audio = new Audio();

        const playBtn = document.getElementById('playBtn'); const playIcon = document.getElementById('playIcon'); const pauseIcon = document.getElementById('pauseIcon');
        const prevBtn = document.getElementById('prevBtn'); const nextBtn = document.getElementById('nextBtn'); const progress = document.getElementById('progress');
        const vinyl = document.getElementById('mainVinyl'); const art = document.getElementById('artContainer');

        function loadSong(song) {
            document.getElementById('songTitle').innerText = song.title;
            document.getElementById('songArtist').innerText = song.artist;
            document.getElementById('albumArtImg').src = song.cover;
            document.getElementById('mainLabelColor').setAttribute('fill', song.color);
            audio.src = song.path;
            updateDuration();
        }

        function playSong() {
            isPlaying = true;
            playIcon.classList.add('hidden');
            pauseIcon.classList.remove('hidden');
            vinyl.classList.remove('paused-anim');
            art.classList.remove('paused-anim');
            audio.play();
        }
        function pauseSong() {
            isPlaying = false;
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            vinyl.classList.add('paused-anim');
            art.classList.add('paused-anim');
            audio.pause();
        }
        playBtn.addEventListener('click', () => isPlaying ? pauseSong() : playSong());

        prevBtn.addEventListener('click', () => {
            songIndex = (songIndex - 1 + songs.length) % songs.length;
            loadSong(songs[songIndex]);
            if (isPlaying) playSong();
        });
        nextBtn.addEventListener('click', () => {
            songIndex = (songIndex + 1) % songs.length;
            loadSong(songs[songIndex]);
            if (isPlaying) playSong();
        });

        audio.addEventListener('timeupdate', () => {
            if (!isNaN(audio.duration)) {
                progress.value = (audio.currentTime / audio.duration) * 100;
                document.getElementById('currTime').innerText = formatTime(audio.currentTime);
            }
        });

        progress.addEventListener('input', function () {
            audio.currentTime = (this.value / 100) * audio.duration;
        });

        function updateDuration() {
            audio.addEventListener('loadedmetadata', () => {
                document.getElementById('durTime').innerText = formatTime(audio.duration);
            });
        }

        function formatTime(time) {
            const minutes = Math.floor(time / 60);
            const seconds = Math.floor(time % 60);
            return `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
        }

        const muteBtn = document.getElementById('muteBtn');
        const volSlider = document.getElementById('volSlider');
        const volIconHigh = document.getElementById('volIconHigh');
        const volIconMute = document.getElementById('volIconMute');

        muteBtn.addEventListener('click', () => {
            if (audio.muted) {
                audio.muted = false;
                volIconMute.classList.add('hidden');
                volIconHigh.classList.remove('hidden');
                volSlider.value = audio.volume;
            } else {
                audio.muted = true;
                volIconMute.classList.remove('hidden');
                volIconHigh.classList.add('hidden');
            }
        });

        volSlider.addEventListener('input', function () {
            audio.volume = this.value;
            audio.muted = this.value == 0;
            volIconMute.classList.toggle('hidden', this.value != 0);
            volIconHigh.classList.toggle('hidden', this.value == 0);
        });

        let isShuffle = false;
        let isRepeat = false;
        const shuffleBtn = document.getElementById('shuffleBtn');
        const repeatBtn = document.getElementById('repeatBtn');

        shuffleBtn.addEventListener('click', () => {
            isShuffle = !isShuffle;
            shuffleBtn.classList.toggle('text-indigo-600', isShuffle);
        });

        repeatBtn.addEventListener('click', () => {
            isRepeat = !isRepeat;
            repeatBtn.classList.toggle('text-indigo-600', isRepeat);
        });

        audio.addEventListener('ended', () => {
            if (isRepeat) {
                playSong();
            } else if (isShuffle) {
                songIndex = Math.floor(Math.random() * songs.length);
                loadSong(songs[songIndex]);
                playSong();
            } else {
                nextBtn.click();
            }
        });

    </script>
</body>

</html>
